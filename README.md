# Final master project

The aim of this project is to creat a functional webside where the user can descrive their own house through a form and an electrical diagram is provided in pdf.

This project is created with Flask


## PYTHON

This project is structured as a Flask project using SQLAlchemy.

To create the pdf it's used the pymupdf library.

The data for creating the electric schemes is generated in JSON format style

# General files:

 - main.py: creation the Flask app and generating the db
 - db.py: creating SQLAchemy db
 - auth_object.py: authentification of the user, encryption of the password, add token in session when logged

# Templates:

This project is created with html 5 using Bootstrap

HTML files:

 - base.html: nav bar
 - card.html: displays the user logged information in card, allwos name and email changes and adding logo
 - login.html: login page with new user creation
 - new_project: shows form for the creation of a new project
 - table.html: displays all the projects of the user logged, allows to download them in pdf format or errase them

# Statics

 - /logos: Static folder to save the logos imgaes for each user.
 - /pdfs: Static folder to save the pdf documents when the user downloads. This folder is automatically cleared. 

# Views

This project is divided in two views folders (elec, pdf_generation).

elec folder handels all the visualization of the webpage and the users:

 - models.py: creats the Users and House classes
 - routes.py: controls most of the webpage flow

pdf_generation folder handels all the pdf creation with pymupdf library:

 - models.py: creates the classes Projects, Lines, Proteccions for saving all the data to generate each project
 - routes.py: controls the download of the pdfs and delates the information from the pdf.db
 - utils.py: given the form information generates all the data necessary to descrive each project, the data is generated like JSON data
 - shapes.py: contains all the pymupdf functions to draw in a new pdf
 - shapes2.py: given the data generated by utils.py and the functions in shapes.py generats the pdf with the electric drawing 

